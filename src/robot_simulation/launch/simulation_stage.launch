<launch>

    <!-- We resume the logic in empty_world.launch, changing only the name of the world to be launched -->
    <include file="$(find gazebo_ros)/launch/empty_world.launch">
      <arg name="world_name" value="$(find robot_simulation)/worlds/similar_home.world"/>
      <arg name="paused" value="false"/>
      <arg name="use_sim_time" value="true"/>
      <arg name="gui" value="true"/>
      <arg name="recording" value="false"/>
      <arg name="debug" value="false"/>
    </include>

    <!-- Spawn a robot into Gazebo  加载启智机器人-->
    <node name="spawn_urdf" pkg="gazebo_ros" type="spawn_model" args="-file $(find wpr_simulation)/models/wpb_home.model -urdf -x 0.0 -y -0.0 -model wpb_home" />
    <arg name="model" default="$(find wpr_simulation)/models/wpb_home.model"/>
    <param name="robot_description" command="$(find xacro)/xacro $(arg model)" />
  
    <!-- tf -->
    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" />
    <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher" />
  
    <!-- lidar filter-->
    <node pkg="wpr_simulation" type="lidar_filter" name="lidar_filter" />
  
    <!-- Spawn the objects into Gazebo -->
    <!-- <node name="bed" pkg="gazebo_ros" type="spawn_model" args="-file $(find robot_simulation)/models/bed.model -x 6.1 -y 5.6 -z 0 -Y 3.14159 -urdf -model bed" /> -->
    <!-- <node name="sofa1" pkg="gazebo_ros" type="spawn_model" args="-file $(find robot_simulation)/models/sofa.model -x -2.0 -y -13.45 -z 0 -Y 1.57 -urdf -model sofa1" /> -->
    <node name="sofa2" pkg="gazebo_ros" type="spawn_model" args="-file $(find robot_simulation)/models/sofa.model -x 0.0 -y -13.45 -z 0 -Y 1.57 -urdf -model sofa2" />

    <!-- <node name="bookshelft" pkg="gazebo_ros" type="spawn_model" args="-file $(find robot_simulation)/models/bookshelft.model -x 2.0 -y -0.55 -z 0 -Y -1.57 -urdf -model bookshelft" /> -->
  
  
  
    <!-- joy node -->
    <!-- <node respawn="true" pkg="joy" type="joy_node" name="wpb_home_joy" >
      <param name="dev" type="string" value="/dev/input/js0" />
      <param name="deadzone" value="0.12" />
    </node> -->
  
    <!-- Axes Velcmd -->
    <!-- <param name="axis_linear" value="1" type="int"/>
    <param name="axis_angular" value="0" type="int"/>
    <param name="scale_linear" value="1" type="double"/>
    <param name="scale_angular" value="1" type="double"/>
    <node pkg="wpb_home_bringup" type="wpb_home_js_vel" name="teleop"/> -->
  
  </launch>